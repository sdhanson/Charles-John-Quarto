<% include partials/header.ejs %>
<% include partials/overlay.ejs %>
<link rel='stylesheet' href='/stylesheets/written-list.css' />

        <div class="d-flex flex-column justify-content-center header header-text">
        <p class="about-header-title align-self-center"><%=title%></p>
        <!--Closing tags from overlay-->



        <!--Dropdown buttons that overlay the header image-->
        <div class="row mt-5 justify-content-center">
            <!--Category dropdown-->
            <div class="dropdown">
                <button type="button" class="mr-4 header-button btn btn-lg btn-outline-light rounded-0 dropdown-toggle" id="dropdownMenuButton" data-toggle="dropdown" aria-haspopup="true" aria-expanded="false">Category</button>
                <div class="dropdown-menu header-dropdown-menu" aria-labelledby="dropdownMenuButton">
                    <a title="All Collections" class="dropdown-item header-dropdown-item" href="/written-works/category/collections">Collections</a>
                    <a title="All Poems" class="dropdown-item header-dropdown-item" href="/written-works/category/poems">Featured Poems</a>
                    <a title="All Songs" class="dropdown-item header-dropdown-item" href="/written-works/category/songs">Featured Songs</a>
                    <a title="All Written Works" class="dropdown-item header-dropdown-item" href="/written-works">All</a>
                </div>
            </div>
            <!--End category dropdown-->

<!--End dropdown buttons-->

    </div>
</div>
<!--Closing tags from overlay-->


<!--Display for written works-->
<!--Media container for a written work photo, title, and description-->
<!--BOOKS-->
<% if(results.book_list.length === 0 && results.poem_list.length === 0 && results.song_list.length === 0) {%>
<div class="mt-5 container">
    <h1> No Results </h1>
    <a title="All Written Works" class="no-results" href="/written-works"> BACK TO ALL WORKS
        <i class="fas fa-chevron-right"></i>
    </a>
</div>
<% } else { %>
<div class="container">
    <div class="row">
    <% results.book_list.forEach(function(book) { %>
        <div class="card col-3 border-0 rounded-0">
            <!-- Image -->
            <img style="height: 125px; max-width: 125px;" class="rounded-circle mt-5 mx-auto" src="/images/hollywood.jpeg" alt="Photo of sunset">

            <!-- Text Content -->
            <div class="card-body mt-4 d-flex flex-column">
                <p class="card-text justify-self-center align-self-center"><%= book.title %></p>
                <a title="View Collection" class="justify-self-center align-self-center mt-4 button-submit btn btn-md btn-outline-light rounded-0" role="button" href="<%=book.url%>">Explore <%= book.category %></a>
            </div>
        </div>
    <% }); results.song_list.forEach(function(song) { %>
        <div class="card col-3 border-0 rounded-0">
            <!-- Image -->
            <img style="height: 125px; max-width: 125px;" class="rounded-circle mt-5 mx-auto" src="/images/hollywood.jpeg" alt="Photo of sunset">

            <!-- Text Content -->
            <div class="card-body mt-4 d-flex flex-column">
                <p class="card-text justify-self-center align-self-center"><%= song.title %></p>
                <a title="View Collection" class="justify-self-center align-self-center mt-4 button-submit btn btn-md btn-outline-light rounded-0" role="button" href="<%=song.url%>">Explore <%= song.category %></a>
            </div>
        </div>
        <% }); results.poem_list.forEach(function(poem) { %>
        <div class="card col-3 border-0 rounded-0">
            <!-- Image -->
            <img style="height: 125px; max-width: 125px;" class="rounded-circle mt-5 mx-auto" src="/images/hollywood.jpeg" alt="Photo of sunset">

            <!-- Text Content -->
            <div class="card-body mt-4 d-flex flex-column">
                <p class="card-text justify-self-center align-self-center"><%= poem.title %></p>
                <a title="View Collection" class="justify-self-center align-self-center mt-4 button-submit btn btn-md btn-outline-light rounded-0" role="button" href="<%=poem.url%>">Explore <%= poem.category %></a>
            </div>
        </div>
        <% }); %>
    </div>
<!--End media container-->

<!--start pagination section-->
<div class="paging">
    <% if (pages > 1 && current <= pages) { %>
    <ul class="pagination">
        <% if (current != 1) {%>
        <li class="page-item"><a class="btn btn-outline-dark rounded-0 btn-sm page-link" role="button" href="<%=current-1%>">Previous</a></li>
        <% } %>
        <% var i = (Number(current) > 5 ? Number(current) - 4 : 1) %>
        <% if (i !== 1) { %>
        <li class="page-item active"><a class="btn btn-outline-dark rounded-0 btn-sm page-link" role="button">...</a></li>
        <% } %>
        <% for (; i <= (Number(current) + 4) && i <= pages; i++) { %>
        <% if (i == current) { %>
        <li class="page-item active"><a class="btn btn-outline-dark rounded-0 btn-sm page-link" role="button"><%= i %></a></li>
        <% } else { %>
        <li class="page-item"><a class="btn btn-outline-dark rounded-0 btn-sm page-link" href="<%= i %>" role="button" ><%= i %></a></li>
        <% } %>
        <% if (i == Number(current) + 4 && i < pages) { %>
        <li class="page-item active"><a class="btn btn-outline-dark rounded-0 btn-sm page-link" role="button">...</a></li>
        <% } %>
        <% } %>
        <% if (current != pages) { %>
        <li class="page-item"><a class="btn btn-outline-dark rounded-0 btn-sm page-link" href="<%=current-2+3%>" role="button">Next</a></li>
        <% } %>
    </ul>
    <% } %>
</div>
<% } %>
</div>



<!--End written works display-->

<script type="text/javascript" src="/javascripts/written-list.js"></script>

<% include partials/footer.ejs %>